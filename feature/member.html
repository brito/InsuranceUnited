<form id=member>
  <i>To see and save your policy, please tell us how to contact you:</i>
  <input name=tel type=tel placeholder="by phone"> or
  <input name=email type=email placeholder="by email"><br>
  
  <span class=when-returning>
	  <i>If you have been here before</i>
	  <input name=password type=password data-typetoggle=#showpw placeholder="enter your password"><br>
	  <label><input id=showpw type=checkbox> Show Password</label><br>
  </span>
  
  <button>Continue</button>
</form>

<script>
try { history.pushState(member, 'Welcome', '/welcome'); }
catch (e) { location.hash = 'welcome' }

$('#member')
  .snitch()
  .submit(function(e){
    // TODO validate
    if (false)
      return errors(),false;
    
    $(this).hide()
    $('#policy').show();
    // trigger unload
    recognize(location.hash = 'policy', 'coming up');
    //console.clear();
    return false;
  })
  // peripherals
  .on('keyup', '[name=email]', function(){
    return; /* not yet setup
    var input = this,
        delay = 300; // milliseconds
    // debounce for slight lookup delay
    clearTimeout($(input).data('debounce'));
    $(input).data('debounce', setTimeout(
    // this happens much less frequently (300ms at most)
	    function(){
	      var rules = {
	          // crude email
	          '^[^@]+@.+\\.[^.]{2,}$': [function(value){
	            recognize(value, 'email?');
	          }][0] 
	      };
	      
	      for (var rule in rules) 
	        $(input).val().replace(new Regexp(rule), rules[rule]);
	  /* \n... */ // YAML document terminator
  })
  // actions
  .on('authenticate', function(){
      // Stop password maskingâ Jacob Nielsen
      // http://www.useit.com/alertbox/passwords.html
      $('[name=password]').showPassword();
  });
</script>